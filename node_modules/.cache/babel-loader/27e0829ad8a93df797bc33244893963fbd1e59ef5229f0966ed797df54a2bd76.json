{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./NotesUI.css';import{jsPDF}from\"jspdf\";import html2canvas from'html2canvas';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const NotesUI=_ref=>{let{notes={}}=_ref;const[editableNotes,setEditableNotes]=useState({});let debounceTimer;// Define debounceTimer in the component scope\n// Update editableNotes when notes prop changes\nuseEffect(()=>{setEditableNotes(notes);},[notes]);// Handle content changes on note edit\nconst handleContentChange=(topic,index,event)=>{const updatedNotes={...editableNotes};updatedNotes[topic][index]=event.target.innerText;// Debounce state update\nclearTimeout(debounceTimer);// Clear any existing timers before setting a new one\ndebounceTimer=setTimeout(()=>{setEditableNotes(updatedNotes);console.log(\"Notes updated:\",updatedNotes);},300);// 300ms debounce time\n};// Render the notes\nconst renderNotes=()=>{if(Object.keys(editableNotes).length===0){return/*#__PURE__*/_jsx(\"div\",{children:\"No notes available\"});}return Object.entries(editableNotes).map(_ref2=>{let[topic,notesList]=_ref2;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"topic\",children:topic}),Array.isArray(notesList)?notesList.map((note,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"note\",contentEditable:true,suppressContentEditableWarning:true,onInput:event=>handleContentChange(topic,index,event),children:note},index)):/*#__PURE__*/_jsx(\"div\",{className:\"note\",contentEditable:true,suppressContentEditableWarning:true,onInput:event=>handleContentChange(topic,0,event),children:notesList})]},topic);});};// Download notes as a PDF\nconst downloadNotes=()=>{const doc=new jsPDF();const title=prompt(\"Enter a title for your notes:\",\"Meeting Notes\");if(!title)return;const notesContainer=document.getElementById('notes-container');html2canvas(notesContainer,{scale:2}).then(canvas=>{const imgData=canvas.toDataURL('image/png');const pdf=new jsPDF('p','mm','a4');const imgWidth=210;const pageHeight=297;const imgHeight=canvas.height*imgWidth/canvas.width;let heightLeft=imgHeight;let position=0;pdf.addImage(imgData,'PNG',0,position,imgWidth,imgHeight);heightLeft-=pageHeight;while(heightLeft>=0){position=heightLeft-imgHeight;pdf.addPage();pdf.addImage(imgData,'PNG',0,position,imgWidth,imgHeight);heightLeft-=pageHeight;}pdf.save(`${title}.pdf`);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{id:\"notes-container\",children:renderNotes()}),/*#__PURE__*/_jsxs(\"div\",{id:\"bottom-right-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"download-btn\",onClick:downloadNotes,children:\"Download Notes as PDF\"}),/*#__PURE__*/_jsx(\"span\",{className:\"instruction-text\",children:\"Click any note to edit\"})]})]});};export default NotesUI;","map":{"version":3,"names":["React","useState","useEffect","jsPDF","html2canvas","jsx","_jsx","jsxs","_jsxs","NotesUI","_ref","notes","editableNotes","setEditableNotes","debounceTimer","handleContentChange","topic","index","event","updatedNotes","target","innerText","clearTimeout","setTimeout","console","log","renderNotes","Object","keys","length","children","entries","map","_ref2","notesList","className","Array","isArray","note","contentEditable","suppressContentEditableWarning","onInput","downloadNotes","doc","title","prompt","notesContainer","document","getElementById","scale","then","canvas","imgData","toDataURL","pdf","imgWidth","pageHeight","imgHeight","height","width","heightLeft","position","addImage","addPage","save","id","onClick"],"sources":["/Users/ayushbhanot/Documents/Coding/SideProjects/SideProject-AITranscriptionApp/sideproj-aitranscriptionapp/src/components/NotesUI.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './NotesUI.css';\nimport { jsPDF } from \"jspdf\";\nimport html2canvas from 'html2canvas';\n\nconst NotesUI = ({ notes = {} }) => {\n    const [editableNotes, setEditableNotes] = useState({});\n    let debounceTimer; // Define debounceTimer in the component scope\n\n    // Update editableNotes when notes prop changes\n    useEffect(() => {\n        setEditableNotes(notes);\n    }, [notes]);\n\n    // Handle content changes on note edit\n    const handleContentChange = (topic, index, event) => {\n        const updatedNotes = { ...editableNotes };\n        updatedNotes[topic][index] = event.target.innerText;\n\n        // Debounce state update\n        clearTimeout(debounceTimer); // Clear any existing timers before setting a new one\n        debounceTimer = setTimeout(() => {\n            setEditableNotes(updatedNotes);\n            console.log(\"Notes updated:\", updatedNotes);\n        }, 300);  // 300ms debounce time\n    };\n\n    // Render the notes\n    const renderNotes = () => {\n        if (Object.keys(editableNotes).length === 0) {\n            return <div>No notes available</div>;\n        }\n\n        return Object.entries(editableNotes).map(([topic, notesList]) => (\n            <div key={topic}>\n                <div className=\"topic\">{topic}</div>\n                {Array.isArray(notesList) ? (\n                    notesList.map((note, index) => (\n                        <div\n                            key={index}\n                            className=\"note\"\n                            contentEditable={true}\n                            suppressContentEditableWarning={true}\n                            onInput={(event) => handleContentChange(topic, index, event)}\n                        >\n                            {note}\n                        </div>\n                    ))\n                ) : (\n                    <div\n                        className=\"note\"\n                        contentEditable={true}\n                        suppressContentEditableWarning={true}\n                        onInput={(event) => handleContentChange(topic, 0, event)}\n                    >\n                        {notesList}\n                    </div>\n                )}\n            </div>\n        ));\n    };\n\n    // Download notes as a PDF\n    const downloadNotes = () => {\n        const doc = new jsPDF();\n        const title = prompt(\"Enter a title for your notes:\", \"Meeting Notes\");\n        if (!title) return;\n\n        const notesContainer = document.getElementById('notes-container');\n\n        html2canvas(notesContainer, { scale: 2 }).then(canvas => {\n            const imgData = canvas.toDataURL('image/png');\n            const pdf = new jsPDF('p', 'mm', 'a4');\n            \n            const imgWidth = 210;\n            const pageHeight = 297;\n            const imgHeight = canvas.height * imgWidth / canvas.width;\n            let heightLeft = imgHeight;\n\n            let position = 0;\n\n            pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);\n            heightLeft -= pageHeight;\n\n            while (heightLeft >= 0) {\n                position = heightLeft - imgHeight;\n                pdf.addPage();\n                pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);\n                heightLeft -= pageHeight;\n            }\n\n            pdf.save(`${title}.pdf`);\n        });\n    };\n\n    return (\n        <div>\n            <div id=\"notes-container\">\n                {renderNotes()}\n            </div>\n            <div id=\"bottom-right-container\">\n                <button className=\"download-btn\" onClick={downloadNotes}>Download Notes as PDF</button>\n                <span className=\"instruction-text\">Click any note to edit</span>\n            </div>\n        </div>\n    );\n};\n\nexport default NotesUI;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}